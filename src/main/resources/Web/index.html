<html>
  <head>
	 <title>BabbleHub</title>
   <style type="text/css">
    body {
      width: 70%;
      margin: auto;
    }
    textArea {
      width: 100%;
      margin-top: 2px;
      border: 0;
      color: #003366;
      font-size: 12pt;
      font-family: Arial;
      outline:none;
    }
    h1 {
      color: #cccc99;
    }
    .halfWidth {
      width: 50%;
      color: #E18A07;
      font-size: 12pt;
      font-family: Arial;
      outline:none;
    }
   </style>
  </head>
  <body>
    <h1>BabbleHub</h1>
    <div id ="chatArea"></div>
    <form onsubmit="return false">      
      <input class="halfWidth" type="text" name="message" /> 
      <input type="button" value="send" onclick="send(this.form.message.value)" /> 
    </form>

    <script type="text/javascript">

      var chatLocation = 10;
      var socket = new WebSocket("ws://localhost:8080/bableHub");

      socket.onopen = function(event){  
      };

      socket.onmessage = function(event){
         var msg = JSON.parse(event.data);
        var node   = document.getElementById('chatArea');
        node.innerHTML='<h1>' + msg.userId + '</h1><p>'+msg.message+'</p>';


      };

      function send (message) {
        if (socket.readyState == WebSocket.OPEN){
          socket.send(message);
        }
      }
    </script>
  </body>
</html>
